@page "/detalle-estudiante/{EstudianteId:int}"
@inject NavigationManager NavigationManager

<h3>Perfil del Estudiante</h3>

@if (estudiante == null)
{
    <p><em>Cargando...</em></p>
}
else
{
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <div class="form-group">
                    <label>Apellido:</label>
                    <p>@estudiante.Apellido</p>
                </div>
                <div class="form-group">
                    <label>Nombre:</label>
                    <p>@estudiante.Nombre</p>
                </div>
                <div class="form-group">
                    <label>Fecha de Nacimiento:</label>
                    <p>@estudiante.FechaNacimiento.ToShortDateString()</p>
                </div>
                <div class="form-group">
                    <label>Ocupación:</label>
                    <p>@estudiante.Ocupacion</p>
                </div>
                <div class="form-group">
                    <label>Correo Electrónico:</label>
                    <p>@estudiante.Correo</p>
                </div>
                <div class="form-group">
                    <label>Número de Teléfono:</label>
                    <p>@estudiante.Telefono</p>
                </div>
                <div class="form-group">
                    <label>Ubicación:</label>
                    <p>@estudiante.Ubicacion</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group text-center">
                    <label>Imagen/Foto:</label>
                    @if (!string.IsNullOrEmpty(estudiante.FotoUrl))
                    {
                        <img src="@estudiante.FotoUrl" alt="Foto del estudiante" class="img-fluid rounded" style="max-width: 150px; height: auto;" />
                    }
                    else
                    {
                        <p>No hay foto disponible</p>
                    }
                </div>
            </div>
        </div>
    </div>
}

<button class="btn btn-primary" @onclick="() => EditarEstudiante(estudiante.Id)">Editar</button>
<button class="btn btn-secondary" @onclick="Regresar">Regresar</button>

@code {
    [Parameter]
    public int EstudianteId { get; set; }

    private Estudiante estudiante;

    protected override void OnInitialized()
    {
        estudiante = ObtenerEstudiantePorId(EstudianteId);
    }

    private void EditarEstudiante(int id)
    {
        NavigationManager.NavigateTo($"/editar-estudiante/{id}");
    }

    private void Regresar()
    {
        NavigationManager.NavigateTo("/estudiantes");
    }

    private Estudiante ObtenerEstudiantePorId(int id)
    {
        // Simulación de obtención de estudiante por ID
        return new Estudiante
            {
                Id = 1,
                Apellido = "Perez",
                Nombre = "Juan",
                FechaNacimiento = new DateTime(1990, 5, 23),
                Ocupacion = "Estudiante",
                Correo = "juan.perez@example.com",
                Telefono = "123456789",
                Ubicacion = "Trujillo Sede Central > Centro Cívico",
                FotoUrl = "https://example.com/foto.jpg"
            };
    }

    public class Estudiante
    {
        public int Id { get; set; }
        public string Apellido { get; set; }
        public string Nombre { get; set; }
        public DateTime FechaNacimiento { get; set; }
        public string Ocupacion { get; set; }
        public string Correo { get; set; }
        public string Telefono { get; set; }
        public string Ubicacion { get; set; }
        public string FotoUrl { get; set; }
    }
}
