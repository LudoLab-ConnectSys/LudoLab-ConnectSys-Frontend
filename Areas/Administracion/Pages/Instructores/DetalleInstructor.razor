@page "/detalle-instructor/{InstructorId:int}"
@inject NavigationManager NavigationManager

<h3>Perfil del Instructor</h3>

@if (instructor == null)
{
    <p><em>Cargando...</em></p>
}
else
{
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <div class="form-group">
                    <label>Apellido:</label>
                    <p>@instructor.Apellido</p>
                </div>
                <div class="form-group">
                    <label>Nombre:</label>
                    <p>@instructor.Nombre</p>
                </div>
                <div class="form-group">
                    <label>Fecha de Nacimiento:</label>
                    <p>@instructor.FechaNacimiento.ToShortDateString()</p>
                </div>
                <div class="form-group">
                    <label>Especialidad:</label>
                    <p>@instructor.Especialidad</p>
                </div>
                <div class="form-group">
                    <label>Correo Electrónico:</label>
                    <p>@instructor.Correo</p>
                </div>
                <div class="form-group">
                    <label>Número de Teléfono:</label>
                    <p>@instructor.Telefono</p>
                </div>
                <div class="form-group">
                    <label>Ubicación:</label>
                    <p>@instructor.Ubicacion</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group text-center">
                    <label>Imagen/Foto:</label>
                    @if (!string.IsNullOrEmpty(instructor.FotoUrl))
                    {
                        <img src="@instructor.FotoUrl" alt="Foto del instructor" class="img-fluid rounded" style="max-width: 150px; height: auto;" />
                    }
                    else
                    {
                        <p>No hay foto disponible</p>
                    }
                </div>
            </div>
        </div>
    </div>
}

<button class="btn btn-primary" @onclick="() => EditarInstructor(instructor.Id)">Editar</button>
<button class="btn btn-secondary" @onclick="Regresar">Regresar</button>

@code {
    [Parameter]
    public int InstructorId { get; set; }

    private Instructor instructor;

    protected override void OnInitialized()
    {
        instructor = ObtenerInstructorPorId(InstructorId);
    }

    private void EditarInstructor(int id)
    {
        NavigationManager.NavigateTo($"/editar-instructor/{id}");
    }

    private void Regresar()
    {
        NavigationManager.NavigateTo("/instructores");
    }

    private Instructor ObtenerInstructorPorId(int id)
    {
        // Simulación de obtención de instructor por ID
        return new Instructor
            {
                Id = 1,
                Apellido = "Sanchez",
                Nombre = "Pedro",
                FechaNacimiento = new DateTime(1980, 8, 15),
                Especialidad = "Blazor",
                Correo = "pedro.sanchez@example.com",
                Telefono = "987654321",
                Ubicacion = "Lima Sede Central > Aula 101",
                FotoUrl = "https://example.com/foto.jpg"
            };
    }

    public class Instructor
    {
        public int Id { get; set; }
        public string Apellido { get; set; }
        public string Nombre { get; set; }
        public DateTime FechaNacimiento { get; set; }
        public string Especialidad { get; set; }
        public string Correo { get; set; }
        public string Telefono { get; set; }
        public string Ubicacion { get; set; }
        public string FotoUrl { get; set; }
    }
}
